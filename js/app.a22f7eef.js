(function(){"use strict";var t={2505:function(t,e,n){var r=n(9242),a=n(3396),i=n(7139);const s={class:"container"},o={class:"col-12 col-lg-3 d-lg-flex justify-content-end align-items-center"},c={class:"text-center text-lg-end"},h={class:"col-12 col-lg-9"};function u(t,e,n,r,u,l){const d=(0,a.up)("barchart-canvas");return(0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.snapshots,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"row mt-3"},[(0,a._)("div",o,[(0,a._)("h1",c,(0,i.zw)(t.labels[n]),1)]),(0,a._)("div",h,[(0,a.Wm)(d,{snapshot:e,class:"barchart-canvas"},null,8,["snapshot"])])])))),128))])}var l=n(4870);const d={class:"canvas-container",ref:"container"},f={ref:"canvas",class:"canvas"};function p(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",f,null,512)],512)}var v=n(8851),g=n.n(v),w=n(2482);class m{constructor(t,e){(0,w.Z)(this,"snapshot",void 0),(0,w.Z)(this,"canvasSize",void 0),(0,w.Z)(this,"startHue",50),(0,w.Z)(this,"spaceBetweenBars",0),(0,w.Z)(this,"barWidth",0),(0,w.Z)(this,"maxValue",void 0),(0,w.Z)(this,"heightScaleFactor",void 0),this.snapshot=t,this.canvasSize=e,this.maxValue=Math.max(...this.snapshot.data),this.heightScaleFactor=this.canvasSize.height/this.maxValue,this.withSpaceBetweenBars(0)}withSpaceBetweenBars(t){return this.spaceBetweenBars=t,this.barWidth=this.canvasSize.width/this.snapshot.data.length-this.spaceBetweenBars,this}calculateBars(){return this.snapshot.data.map(((t,e)=>{const n=t*this.heightScaleFactor;return{x:this.calcPosX(e),y:this.canvasSize.height-n,width:this.barWidth,height:n,color:this.pickBarColor(t,e)}}))}pickBarColor(t,e){if(this.isBeingCompared(e))return"hsb(0, 100%, 100%)";const n=t/this.maxValue*(255-this.startHue)+this.startHue,r=this.isInHighlightedRange(e)?100:25;return`hsb(${n.toFixed(0)}, ${r}%, 100%)`}isInHighlightedRange(t){if(!this.snapshot.highlightedRange)return 0;const[e,n]=this.snapshot.highlightedRange;return e<=t&&n>=t}isBeingCompared(t){return this.snapshot.comparedPair.includes(t)}calcPosX(t){return this.spaceBetweenBars/2+t*(this.barWidth+this.spaceBetweenBars)}}function b(t,e){return new m(t,e).withSpaceBetweenBars(2).calculateBars()}function y(t,e){const n=t.color(e.color);t.stroke(n),t.fill(n),t.rect(e.x,e.y,e.width,e.height)}function B(t,e){const n=n=>{n.setup=()=>{n.createCanvas(t.clientWidth,t.clientHeight),n.noLoop()},n.draw=()=>{n.clear(0,0,0,0),b(e(),n).forEach((t=>y(n,t)))}};return new(g())(n,t)}function x(t,e){t.resizeCanvas(e.width,t.height)}var S=(0,a.aZ)({name:"BarchartCanvas",props:{snapshot:{type:Object,required:!0}},setup(t){const e=(0,l.iH)(),n=(0,l.iH)(),r=()=>t.snapshot;return(0,a.bv)((()=>{const t=B(e.value,r);(0,a.YP)(r,(()=>t.redraw())),new ResizeObserver((([e])=>x(t,e.contentRect))).observe(n.value)})),{canvas:e,container:n}}}),k=n(89);const R=(0,k.Z)(S,[["render",p],["__scopeId","data-v-601e9e04"]]);var Z=R;class O{constructor(t,e){(0,w.Z)(this,"data",void 0),(0,w.Z)(this,"generator",void 0),(0,w.Z)(this,"currentResult",void 0),this.data=[...t],this.generator=e(this.data),this.currentResult=this.generator.next()}step(){this.currentResult=this.generator.next()}takeSnapshot(){return this.isFinished?this.finalSnapshot:this.currentResult.value}get isFinished(){return this.currentResult.done}get finalSnapshot(){return{data:[...this.data],comparedPair:[-1,-1],highlightedRange:[0,this.data.length-1]}}}function _(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function*C(t){for(let e=t.length;e>0;e--){let n=!1;for(let r=1;r<e;r++)t[r-1]>t[r]&&(_(t,r-1,r),n=!0),yield{data:[...t],comparedPair:[r-1,r],highlightedRange:[0,e-1]};if(!n)break}}function*H(t,e,n){function*r(r,a){return yield{data:[...t],comparedPair:[r,a],highlightedRange:[e,n]},t[r]<t[a]}let a=e+1,i=n;while(1){while((yield*r(a,e))&&a<n)a++;while((yield*r(e,i))&&i>e)i--;if(a>=i)break;_(t,a,i)}return _(t,e,i),i}function*P(t,e,n){if(n<=e)return;const r=yield*H(t,e,n);yield*P(t,e,r-1),yield*P(t,r+1,n)}function*F(t){yield*P(t,0,t.length-1)}function*j(t){function*e(e){let n=e;for(let r=e+1;r<t.length;r++)yield{data:[...t],comparedPair:[n,r],highlightedRange:[e,t.length-1]},t[r]<t[n]&&(n=r);return n}for(let n=0;n<t.length;n++){const r=yield*e(n);_(t,n,r)}}function z(t,e){return[...new Array(t).keys()].map((()=>Math.random()*e))}function I(t){t.forEach((t=>{t.isFinished||t.step()}))}function W(t){return t.map((t=>t.takeSnapshot()))}function D(t){return t.every((t=>t.isFinished))}const V=25,E=[{name:"Bubblesort",sorter:C},{name:"Selection sort",sorter:j},{name:"Quicksort",sorter:F}];var M=(0,a.aZ)({name:"App",components:{BarchartCanvas:Z},setup(){const t=z(200,1),e=E.map((({sorter:e})=>new O(t,e))),n=(0,l.iH)(W(e)),r=E.map((({name:t})=>t));return(0,a.bv)((()=>{const t=setInterval((()=>{I(e),n.value=W(e),D(e)&&clearInterval(t)}),V)})),{snapshots:n,labels:r}}});const A=(0,k.Z)(M,[["render",u],["__scopeId","data-v-01a72f0e"]]);var T=A;(0,r.ri)(T).mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,i){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],i=t[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(o=!1,i<s&&(s=i));if(o){t.splice(u--,1);var h=a();void 0!==h&&(e=h)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,i,s=r[0],o=r[1],c=r[2],h=0;if(s.some((function(e){return 0!==t[e]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var u=c(n)}for(e&&e(r);h<s.length;h++)i=s[h],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunkp5_tutorial"]=self["webpackChunkp5_tutorial"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2505)}));r=n.O(r)})();
//# sourceMappingURL=app.a22f7eef.js.map